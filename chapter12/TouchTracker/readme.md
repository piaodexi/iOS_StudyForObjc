# chap12 터치 이벤트와 UIResponder

## 터치 이벤트 
UIView는 UIResponder의 하위 클래스로서 각각 다른 터치 이벤트를 처리할 네 개의 메소드를 재정의할 수 있다.

- 화면을 손가락으로 터치한다.   
-(void)touchesBegan: (NSSet *)touches withEvent:(UIEvent *)event;

- 화면에서 손가락을 움직인다 touchesMoved:

- 화면에서 손가락을 뗀다. touchesEnded 

- 터치가 끝나기 전에 전화가 걸려오는 등 시스템 이벤트 발생 touchescancelled.  

화면을 손가락으로 터치하면 유아이터치의 인스턴스가 만들어진다. 터치한 유아이뷰는 터치스비간 메시지를 받고 이때 만들어진 유아이터치는 엔에스셋 타입의 터치스 인자에 담긴다.   
화면에서 손가락을 움직이면 터치 객체는 손가락의 현재 위치를 저장하기 위해 갱신된다. 그리고 터치가 시작된 UIView에 터치스무브드 메시지가 보내진다. 이메소드에 인자로 전달된 엔에스셋은 화면을 터치한 손가락을 나타내는 원래 생성된 유아이터치를 가진다. 화면에서 손가락을떼면 터치 객체는 마지막으로 손가락의 위치를 저장하기 위해 갱신된다. 그리고 터치가 시작된 뷰에 터치스엔디드 메시지가 보내진다. 이 메소드가 완료된 후 유아이터치 객체는 소멸된다.    
이러한 정보를 바탕으로 터치 객체가 어떻게 동작하는지에 대해 몆가지 결론을 내릴 수 있다.   
- 화면에서 하나의 유아이터치는 한 개의 손가락에 대응한다. 이 터치 객체는 손가락이 화면에 있는 한 존재하고 항상 화면상의 손가락 위치를 포함한다. 

- 터치가 시작된 뷰는 무슨 일이 있어도 그 손가락에 관한 모든 터치 이벤트 메시지를 받는다. 만약 손가락을 처음 터치한 유아이뷰의 프레임 밖으로 움직이더라도 그 뷰는 여전히 터치스무브드와 터치스엔디드 메시지를 받는다. 따라서 터치가 뷰에서 시작되면 그 뷰는 터치 객체의 생존 동안 그 터치를 소유한다.

- 절대 유아이터치 객체에 대한 참조를 유지해서는 안된다. 프로그램은 터치 상태가 변경 될 때 터치 객체에 대한 접근 기회를 줄 것이다.   


   
터치가 뭔가를 할 때마다 (터치 시작, 이동 종료 등) 터치 이벤트가 유아이애플리케이션 객체가 관리하는 이벤트 큐에 추가된다. 실제로 큐는 좀처럼 가득 차지않고 이벤트는 즉각 전달된다. 터치 이벤트의 전달은 터치를 소유한 뷰에 유아이리스폰더 메시지 중 하나를 보내는 것을 포함한다. (터치가 느리게 반응하면 메소드 중 하나가 씨피유를 점유하고 있는 것이다. 그리고 이벤트는 전달되기를 기다리며 대기한다. )   
그럼 멀티 터치는 어떨까 만약 정확히 같은 시간에 하나의 뷰에 여러 손가락으로 똑같이 터치한다면 이들 터치 이벤트 모두가 한번에 전달된다. 손가락 수만큼의 터치 객체가 NSSet에 포함되어 UIResponder 메시지에 인자로 전달된다. 하지만 윈도우에서 정확히 같은 시간이란 굉장히 짧다. 따라서 모든 터치를 가진 하나의 리스폰더 메시지 대신에 보통 하나 이상의 터치를 가진 여러 리스폰더 메시지가 올 것이다. 


* ios14 pro 시뮬레이터에서는 안됨. 기기(iOS 16.1 버전의 12 미니) 연결해서 했을때는 잘됨 
